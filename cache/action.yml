name: 'Build/Get OneFlow'
description: ''
inputs:
  oss-bucket:
    description: 'OSS bucket to save cache keys for build outputs and test results'
    required: false
    default: 'oneflow-ci-cache'
  prefixes:
    description: |
      Prefix of keys used to save and find artifacts.
      For instance: pr/[commit], degist/[hash of files].
      Later you can get artifact with keys to inventory files like pr/[commit]/wheelhouse.json.
      If key found, build will be skipped.
      Currently backed by OSS
  key:
    description: 'key to find'
  runner-labels:
    description: 'runner labels to output if cache not found'
outputs:
  runs-on:
    description: 'if cache found, will generate a [ubuntu-latest]'
  prefixes:
    description: 'same as input'
  cache-hit:
    description: 'A boolean value to indicate an exact match was found for the primary key'
runs:
  using: 'node12'
  main: '../dist/cacheOutput/index.js'
  post: '../dist/postCacheOutput/index.js'
  post-if: 'success()'
branding:
  icon: 'archive'
  color: 'gray-dark'
